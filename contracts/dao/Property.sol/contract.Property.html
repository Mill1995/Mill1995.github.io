<!DOCTYPE HTML>
<html lang="en" class="light" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Property</title>


        <!-- Custom HTML head -->
        
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="../../../favicon.svg">
        <link rel="shortcut icon" href="../../../favicon.png">
        <link rel="stylesheet" href="../../../css/variables.css">
        <link rel="stylesheet" href="../../../css/general.css">
        <link rel="stylesheet" href="../../../css/chrome.css">
        <link rel="stylesheet" href="../../../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../../../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../../../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../../../highlight.css">
        <link rel="stylesheet" href="../../../tomorrow-night.css">
        <link rel="stylesheet" href="../../../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        <link rel="stylesheet" href="../../../book.css">

    </head>
    <body class="sidebar-visible no-js">
    <div id="body-container">
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "../../../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('light')
            html.classList.add(theme);
            var body = document.querySelector('body');
            body.classList.remove('no-js')
            body.classList.add('js');
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var body = document.querySelector('body');
            var sidebar = null;
            var sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            body.classList.remove('sidebar-visible');
            body.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item "><a href="../../../index.html">Home</a></li><li class="chapter-item affix "><li class="part-title">contracts</li><li class="chapter-item expanded "><a href="../../../contracts/dao/index.html">❱ dao</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../contracts/dao/FactoryFilmNFT.sol/contract.FactoryFilmNFT.html">FactoryFilmNFT</a></li><li class="chapter-item "><a href="../../../contracts/dao/FactorySubNFT.sol/contract.FactorySubNFT.html">FactorySubNFT</a></li><li class="chapter-item "><a href="../../../contracts/dao/FactoryTierNFT.sol/contract.FactoryTierNFT.html">FactoryTierNFT</a></li><li class="chapter-item "><a href="../../../contracts/dao/Ownablee.sol/contract.Ownablee.html">Ownablee</a></li><li class="chapter-item expanded "><a href="../../../contracts/dao/Property.sol/contract.Property.html" class="active">Property</a></li><li class="chapter-item "><a href="../../../contracts/dao/StakingPool.sol/contract.StakingPool.html">StakingPool</a></li><li class="chapter-item "><a href="../../../contracts/dao/Subscription.sol/contract.Subscription.html">Subscription</a></li><li class="chapter-item "><a href="../../../contracts/dao/UniHelper.sol/contract.UniHelper.html">UniHelper</a></li><li class="chapter-item "><a href="../../../contracts/dao/VabbleDAO.sol/contract.VabbleDAO.html">VabbleDAO</a></li><li class="chapter-item "><a href="../../../contracts/dao/VabbleFund.sol/contract.VabbleFund.html">VabbleFund</a></li><li class="chapter-item "><a href="../../../contracts/dao/VabbleNFT.sol/contract.VabbleNFT.html">VabbleNFT</a></li><li class="chapter-item "><a href="../../../contracts/dao/Vote.sol/contract.Vote.html">Vote</a></li></ol></li><li class="chapter-item "><a href="../../../contracts/interfaces/index.html">❱ interfaces</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../contracts/interfaces/IFactoryFilmNFT.sol/interface.IFactoryFilmNFT.html">IFactoryFilmNFT</a></li><li class="chapter-item "><a href="../../../contracts/interfaces/IOwnablee.sol/interface.IOwnablee.html">IOwnablee</a></li><li class="chapter-item "><a href="../../../contracts/interfaces/IProperty.sol/interface.IProperty.html">IProperty</a></li><li class="chapter-item "><a href="../../../contracts/interfaces/IStakingPool.sol/interface.IStakingPool.html">IStakingPool</a></li><li class="chapter-item "><a href="../../../contracts/interfaces/IUniHelper.sol/interface.IUniHelper.html">IUniHelper</a></li><li class="chapter-item "><a href="../../../contracts/interfaces/IUniswapV2Factory.sol/interface.IUniswapV2Factory.html">IUniswapV2Factory</a></li><li class="chapter-item "><a href="../../../contracts/interfaces/IUniswapV2Router.sol/interface.IUniswapV2Router.html">IUniswapV2Router</a></li><li class="chapter-item "><a href="../../../contracts/interfaces/IVabbleDAO.sol/interface.IVabbleDAO.html">IVabbleDAO</a></li><li class="chapter-item "><a href="../../../contracts/interfaces/IVabbleFund.sol/interface.IVabbleFund.html">IVabbleFund</a></li><li class="chapter-item "><a href="../../../contracts/interfaces/IVote.sol/interface.IVote.html">IVote</a></li></ol></li><li class="chapter-item "><a href="../../../contracts/libraries/index.html">❱ libraries</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../contracts/libraries/Arrays.sol/library.Arrays.html">Arrays</a></li><li class="chapter-item "><a href="../../../contracts/libraries/Helper.sol/library.Helper.html">Helper</a></li></ol></li><li class="chapter-item "><a href="../../../contracts/mocks/index.html">❱ mocks</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../contracts/mocks/MockERC1155.sol/contract.MockERC1155.html">MockERC1155</a></li><li class="chapter-item "><a href="../../../contracts/mocks/MockERC20.sol/contract.MockERC20.html">MockERC20</a></li><li class="chapter-item "><a href="../../../contracts/mocks/MockERC721.sol/contract.MockERC721.html">MockERC721</a></li><li class="chapter-item "><a href="../../../contracts/mocks/MockUSDC.sol/contract.MockUSDC.html">MockUSDC</a></li><li class="chapter-item "><a href="../../../contracts/mocks/MockUSDT.sol/contract.MockUSDT.html">MockUSDT</a></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <!-- Track and set sidebar scroll position -->
        <script>
            var sidebarScrollbox = document.querySelector('#sidebar .sidebar-scrollbox');
            sidebarScrollbox.addEventListener('click', function(e) {
                if (e.target.tagName === 'A') {
                    sessionStorage.setItem('sidebar-scroll', sidebarScrollbox.scrollTop);
                }
            }, { passive: true });
            var sidebarScrollTop = sessionStorage.getItem('sidebar-scroll');
            sessionStorage.removeItem('sidebar-scroll');
            if (sidebarScrollTop) {
                // preserve sidebar scroll position when navigating via links within sidebar
                sidebarScrollbox.scrollTop = sidebarScrollTop;
            } else {
                // scroll sidebar to current active section when navigating via "next/previous chapter" buttons
                var activeSection = document.querySelector('#sidebar .active');
                if (activeSection) {
                    activeSection.scrollIntoView({ block: 'center' });
                }
            }
        </script>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title"></h1>

                    <div class="right-buttons">
                        <a href="../../../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/Mill1995/VABDAO" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="property"><a class="header" href="#property">Property</a></h1>
<p><a href="https://github.com/Mill1995/VABDAO/blob/4914bdc306cbdb860037485ce4bcebbfdd390c9f/contracts/dao/Property.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
ReentrancyGuard</p>
<p>This contract manages various types of governance and property proposals
within a decentralized autonomous organization (DAO). It facilitates
proposals related to governance changes, property settings, and membership
adjustments for different roles within the organization.</p>
<p><em>The contract allows major stakeholders and stakers to propose and vote on
changes that impact the organization's governance, including adding or
replacing auditors, adding new film board members, and modifying various
operational parameters such as voting periods, fee amounts, and reward rates.</em></p>
<p><em>Major stakeholders, identified as those staking a significant amount of the
organization's native token (VAB), have exclusive rights to propose changes
such as adding auditors or modifying reward fund addresses.</em></p>
<p><em>Stakers, who hold tokens and participate in the organization's activities,
can propose changes related to the film board membership and various other properties.
They can also initiate the removal of film board members based on inactivity criteria.</em></p>
<p><em>The contract ensures that proposals are paid for using a fee mechanism,
converting USDC tokens to VAB tokens via Uniswap. This fee is essential for
incentivizing serious proposals and ensuring they are adequately funded.</em></p>
<p><em>Governance proposals and property proposals are tracked separately, with
detailed information stored for each proposal type. This includes creation
timestamps, approval statuses, proposal IDs, proposer addresses, and more.</em></p>
<p><em>Functions in this contract are restricted to specific roles (onlyMajor,
onlyStaker) to maintain security and prevent unauthorized access to critical
functions such as proposal creation, voting status updates, and membership
adjustments.</em></p>
<p><em>Additionally, the contract provides public and external functions for querying
proposal details, checking whitelist statuses of addresses and properties,
and retrieving lists of active governance proposals and property proposals.</em></p>
<p><em>This contract forms a crucial part of the DAO's governance framework, ensuring
that decisions are made transparently, securely, and in accordance with the
organization's operational needs and community consensus.</em></p>
<h2 id="state-variables"><a class="header" href="#state-variables">State Variables</a></h2>
<h3 id="ownable"><a class="header" href="#ownable">OWNABLE</a></h3>
<p><em>The address of the Ownablee contract</em></p>
<pre><code class="language-solidity">address private immutable OWNABLE;
</code></pre>
<h3 id="vote"><a class="header" href="#vote">VOTE</a></h3>
<p><em>The address of the Vote contract</em></p>
<pre><code class="language-solidity">address private immutable VOTE;
</code></pre>
<h3 id="staking_pool"><a class="header" href="#staking_pool">STAKING_POOL</a></h3>
<p><em>The address of the StakingPool contract</em></p>
<pre><code class="language-solidity">address private immutable STAKING_POOL;
</code></pre>
<h3 id="uni_helper"><a class="header" href="#uni_helper">UNI_HELPER</a></h3>
<p><em>The address of the UniHelper contract</em></p>
<pre><code class="language-solidity">address private immutable UNI_HELPER;
</code></pre>
<h3 id="dao_fund_reward"><a class="header" href="#dao_fund_reward">DAO_FUND_REWARD</a></h3>
<p>The address for sending the VAB from StakingPool, EdgePool and StudioPool when a proposal to change the
reward address passed.</p>
<p><em>This is the address where all of the VAB tokens will be send when calling <code>StakingPool::withdrawAllFund()</code>.
This address will be updated to the address that was added in the proposal, once it has been finalized.</em></p>
<pre><code class="language-solidity">address public DAO_FUND_REWARD;
</code></pre>
<h3 id="minpropertylist"><a class="header" href="#minpropertylist">minPropertyList</a></h3>
<p><em>contains the minimum values for each property change</em></p>
<pre><code class="language-solidity">uint256[] private minPropertyList;
</code></pre>
<h3 id="maxpropertylist"><a class="header" href="#maxpropertylist">maxPropertyList</a></h3>
<p><em>contains the maximum values for each property change</em></p>
<pre><code class="language-solidity">uint256[] private maxPropertyList;
</code></pre>
<h3 id="governanceproposalcount"><a class="header" href="#governanceproposalcount">governanceProposalCount</a></h3>
<p>total count of all governance proposals</p>
<pre><code class="language-solidity">uint256 public governanceProposalCount;
</code></pre>
<h3 id="agentlist"><a class="header" href="#agentlist">agentList</a></h3>
<p><em>List of agents proposed for replacing the auditor.</em></p>
<pre><code class="language-solidity">Agent[] private agentList;
</code></pre>
<h3 id="rewardaddresslist"><a class="header" href="#rewardaddresslist">rewardAddressList</a></h3>
<p><em>List of addresses proposed for receiving all pool funds (migrations proceess).</em></p>
<pre><code class="language-solidity">address[] private rewardAddressList;
</code></pre>
<h3 id="filmboardcandidates"><a class="header" href="#filmboardcandidates">filmBoardCandidates</a></h3>
<p><em>List of candidates proposed for the filmBoard.</em></p>
<pre><code class="language-solidity">address[] private filmBoardCandidates;
</code></pre>
<h3 id="filmboardmembers"><a class="header" href="#filmboardmembers">filmBoardMembers</a></h3>
<p><em>List of current filmBoard members.</em></p>
<pre><code class="language-solidity">address[] private filmBoardMembers;
</code></pre>
<h3 id="isgovwhitelist"><a class="header" href="#isgovwhitelist">isGovWhitelist</a></h3>
<p><em>Whitelist status for governance roles (flag: 1 =&gt; agent, 2 =&gt; board, 3 =&gt; reward).
Maps flag to address and status (0: no, 1: candidate, 2: member).</em></p>
<pre><code class="language-solidity">mapping(uint256 =&gt; mapping(address =&gt; uint256)) private isGovWhitelist;
</code></pre>
<h3 id="ispropertywhitelist"><a class="header" href="#ispropertywhitelist">isPropertyWhitelist</a></h3>
<p><em>Whitelist status for properties (flag =&gt; property i.e. 0 =&gt; filmVotePeriod).
Maps flag to property and status (0: no, 1: candidate, 2: member).</em></p>
<pre><code class="language-solidity">mapping(uint256 =&gt; mapping(uint256 =&gt; uint256)) private isPropertyWhitelist;
</code></pre>
<h3 id="govproposalinfo"><a class="header" href="#govproposalinfo">govProposalInfo</a></h3>
<p><em>Information about governance proposals. Maps flag to proposal index and proposal details.</em></p>
<pre><code class="language-solidity">mapping(uint256 =&gt; mapping(uint256 =&gt; GovProposal)) private govProposalInfo;
</code></pre>
<h3 id="proproposalinfo"><a class="header" href="#proproposalinfo">proProposalInfo</a></h3>
<p><em>Information about property proposals. Maps flag to proposal index and proposal details.</em></p>
<pre><code class="language-solidity">mapping(uint256 =&gt; mapping(uint256 =&gt; ProProposal)) private proProposalInfo;
</code></pre>
<h3 id="allgovproposalinfo"><a class="header" href="#allgovproposalinfo">allGovProposalInfo</a></h3>
<p><em>List of addresses associated with all governance proposals. Maps flag to address array.</em></p>
<pre><code class="language-solidity">mapping(uint256 =&gt; address[]) private allGovProposalInfo;
</code></pre>
<h3 id="usergovproposalcount"><a class="header" href="#usergovproposalcount">userGovProposalCount</a></h3>
<p><em>Count of governance proposals created by each user. Maps user address to proposal count.</em></p>
<pre><code class="language-solidity">mapping(address =&gt; uint256) public userGovProposalCount;
</code></pre>
<h3 id="filmvoteperiod"><a class="header" href="#filmvoteperiod">filmVotePeriod</a></h3>
<p>The amount of time a vote for a film proposal is open for</p>
<p><em>index/flag : 0</em></p>
<pre><code class="language-solidity">uint256 public filmVotePeriod;
</code></pre>
<h3 id="filmvoteperiodlist"><a class="header" href="#filmvoteperiodlist">filmVotePeriodList</a></h3>
<pre><code class="language-solidity">uint256[] private filmVotePeriodList;
</code></pre>
<h3 id="agentvoteperiod"><a class="header" href="#agentvoteperiod">agentVotePeriod</a></h3>
<p>The amount of time a vote to change the auditor is open for</p>
<p><em>index/flag : 1</em></p>
<pre><code class="language-solidity">uint256 public agentVotePeriod;
</code></pre>
<h3 id="agentvoteperiodlist"><a class="header" href="#agentvoteperiodlist">agentVotePeriodList</a></h3>
<pre><code class="language-solidity">uint256[] private agentVotePeriodList;
</code></pre>
<h3 id="disputegraceperiod"><a class="header" href="#disputegraceperiod">disputeGracePeriod</a></h3>
<p>The amount of time the dispute period is open for, when a proposal to change the Auditor passed Voting</p>
<p><em>index/flag : 2</em></p>
<pre><code class="language-solidity">uint256 public disputeGracePeriod;
</code></pre>
<h3 id="disputegraceperiodlist"><a class="header" href="#disputegraceperiodlist">disputeGracePeriodList</a></h3>
<pre><code class="language-solidity">uint256[] private disputeGracePeriodList;
</code></pre>
<h3 id="propertyvoteperiod"><a class="header" href="#propertyvoteperiod">propertyVotePeriod</a></h3>
<p>The amount of time a vote to change a property state is open for</p>
<p><em>index/flag : 3</em></p>
<pre><code class="language-solidity">uint256 public propertyVotePeriod;
</code></pre>
<h3 id="propertyvoteperiodlist"><a class="header" href="#propertyvoteperiodlist">propertyVotePeriodList</a></h3>
<pre><code class="language-solidity">uint256[] private propertyVotePeriodList;
</code></pre>
<h3 id="lockperiod"><a class="header" href="#lockperiod">lockPeriod</a></h3>
<p>The amount of time VAB tokens are locked when added to the staking pool contract.</p>
<p><em>index/flag : 4</em></p>
<pre><code class="language-solidity">uint256 public lockPeriod;
</code></pre>
<h3 id="lockperiodlist"><a class="header" href="#lockperiodlist">lockPeriodList</a></h3>
<pre><code class="language-solidity">uint256[] private lockPeriodList;
</code></pre>
<h3 id="filmrewardclaimperiod"><a class="header" href="#filmrewardclaimperiod">filmRewardClaimPeriod</a></h3>
<p>The period after the auditor can submit the films reward results</p>
<p><em>index/flag : 6</em></p>
<pre><code class="language-solidity">uint256 public filmRewardClaimPeriod;
</code></pre>
<h3 id="filmrewardclaimperiodlist"><a class="header" href="#filmrewardclaimperiodlist">filmRewardClaimPeriodList</a></h3>
<pre><code class="language-solidity">uint256[] private filmRewardClaimPeriodList;
</code></pre>
<h3 id="maxallowperiod"><a class="header" href="#maxallowperiod">maxAllowPeriod</a></h3>
<p>The maximum allowed period (in seconds) for removing film board members due to inactivity.</p>
<p><em>Used to check if a film board member has been inactive (i.e., not voting) for longer than this period.
It also ensures that the most recent fund proposal creation is within this period.</em></p>
<p><em>index/flag : 7</em></p>
<pre><code class="language-solidity">uint256 public maxAllowPeriod;
</code></pre>
<h3 id="maxallowperiodlist"><a class="header" href="#maxallowperiodlist">maxAllowPeriodList</a></h3>
<pre><code class="language-solidity">uint256[] private maxAllowPeriodList;
</code></pre>
<h3 id="boardvoteperiod"><a class="header" href="#boardvoteperiod">boardVotePeriod</a></h3>
<p>The amount of time a vote to add a film board member is open for</p>
<p><em>index/flag : 16</em></p>
<pre><code class="language-solidity">uint256 public boardVotePeriod;
</code></pre>
<h3 id="boardvoteperiodlist"><a class="header" href="#boardvoteperiodlist">boardVotePeriodList</a></h3>
<pre><code class="language-solidity">uint256[] private boardVotePeriodList;
</code></pre>
<h3 id="rewardvoteperiod"><a class="header" href="#rewardvoteperiod">rewardVotePeriod</a></h3>
<p>The amount of time a vote to change the reward address (moving pool funds) is open for</p>
<p><em>index/flag : 18</em></p>
<pre><code class="language-solidity">uint256 public rewardVotePeriod;
</code></pre>
<h3 id="rewardvoteperiodlist"><a class="header" href="#rewardvoteperiodlist">rewardVotePeriodList</a></h3>
<pre><code class="language-solidity">uint256[] private rewardVotePeriodList;
</code></pre>
<h3 id="rewardrate"><a class="header" href="#rewardrate">rewardRate</a></h3>
<p>The amount of daily rewards for staking
(1% = 1e8, 100% = 1e10)</p>
<p><em>index/flag : 5</em></p>
<pre><code class="language-solidity">uint256 public rewardRate;
</code></pre>
<h3 id="rewardratelist"><a class="header" href="#rewardratelist">rewardRateList</a></h3>
<pre><code class="language-solidity">uint256[] private rewardRateList;
</code></pre>
<h3 id="boardrewardrate"><a class="header" href="#boardrewardrate">boardRewardRate</a></h3>
<p>The reward rate Film Board members receive on top of normal staking rewards
(1% = 1e8, 100% = 1e10)</p>
<p><em>index/flag : 20</em></p>
<pre><code class="language-solidity">uint256 public boardRewardRate;
</code></pre>
<h3 id="boardrewardratelist"><a class="header" href="#boardrewardratelist">boardRewardRateList</a></h3>
<pre><code class="language-solidity">uint256[] private boardRewardRateList;
</code></pre>
<h3 id="proposalfeeamount"><a class="header" href="#proposalfeeamount">proposalFeeAmount</a></h3>
<p>The amount to submit a proposal to the DAO</p>
<p><em>index/flag : 8</em></p>
<pre><code class="language-solidity">uint256 public proposalFeeAmount;
</code></pre>
<h3 id="proposalfeeamountlist"><a class="header" href="#proposalfeeamountlist">proposalFeeAmountList</a></h3>
<pre><code class="language-solidity">uint256[] private proposalFeeAmountList;
</code></pre>
<h3 id="fundfeepercent"><a class="header" href="#fundfeepercent">fundFeePercent</a></h3>
<p>The amount of funding fees the DAO takes for film financing proposal raises.</p>
<p><em>index/flag : 9</em></p>
<pre><code class="language-solidity">uint256 public fundFeePercent;
</code></pre>
<h3 id="fundfeepercentlist"><a class="header" href="#fundfeepercentlist">fundFeePercentList</a></h3>
<pre><code class="language-solidity">uint256[] private fundFeePercentList;
</code></pre>
<h3 id="mindepositamount"><a class="header" href="#mindepositamount">minDepositAmount</a></h3>
<p>The minimum amount to deposit per individual on film financing proposals.</p>
<p><em>index/flag : 10</em></p>
<pre><code class="language-solidity">uint256 public minDepositAmount;
</code></pre>
<h3 id="mindepositamountlist"><a class="header" href="#mindepositamountlist">minDepositAmountList</a></h3>
<pre><code class="language-solidity">uint256[] private minDepositAmountList;
</code></pre>
<h3 id="maxdepositamount"><a class="header" href="#maxdepositamount">maxDepositAmount</a></h3>
<p>The maximum amount to deposit per individual on film financing proposals.</p>
<p><em>index/flag : 11</em></p>
<pre><code class="language-solidity">uint256 public maxDepositAmount;
</code></pre>
<h3 id="maxdepositamountlist"><a class="header" href="#maxdepositamountlist">maxDepositAmountList</a></h3>
<pre><code class="language-solidity">uint256[] private maxDepositAmountList;
</code></pre>
<h3 id="maxmintfeepercent"><a class="header" href="#maxmintfeepercent">maxMintFeePercent</a></h3>
<p>The maximum percent fee Vab DAO takes for minting an NFT collection.</p>
<p><em>index/flag : 12</em></p>
<pre><code class="language-solidity">uint256 public maxMintFeePercent;
</code></pre>
<h3 id="maxmintfeepercentlist"><a class="header" href="#maxmintfeepercentlist">maxMintFeePercentList</a></h3>
<pre><code class="language-solidity">uint256[] private maxMintFeePercentList;
</code></pre>
<h3 id="subscriptionamount"><a class="header" href="#subscriptionamount">subscriptionAmount</a></h3>
<p>The monthly fee rate for streaming content on Vabble Streaming.</p>
<p><em>index/flag : 19</em></p>
<pre><code class="language-solidity">uint256 public subscriptionAmount;
</code></pre>
<h3 id="subscriptionamountlist"><a class="header" href="#subscriptionamountlist">subscriptionAmountList</a></h3>
<pre><code class="language-solidity">uint256[] private subscriptionAmountList;
</code></pre>
<h3 id="minvotecount"><a class="header" href="#minvotecount">minVoteCount</a></h3>
<p>The minimum amount of people that need to vote for a proposal to pass</p>
<p><em>This variable represents the threshold count of voters required for a proposal to be considered valid.</em></p>
<p><em>index/flag : 13</em></p>
<pre><code class="language-solidity">uint256 public minVoteCount;
</code></pre>
<h3 id="minvotecountlist"><a class="header" href="#minvotecountlist">minVoteCountList</a></h3>
<pre><code class="language-solidity">uint256[] private minVoteCountList;
</code></pre>
<h3 id="minstakercountpercent"><a class="header" href="#minstakercountpercent">minStakerCountPercent</a></h3>
<p>The minimum percentage of stakers that need to vote for a proposal to pass</p>
<p><em>This percentage is used to calculate the required number of stakers based on the total staker count.</em></p>
<p><em>index/flag: 14</em></p>
<pre><code class="language-solidity">uint256 public minStakerCountPercent;
</code></pre>
<h3 id="minstakercountpercentlist"><a class="header" href="#minstakercountpercentlist">minStakerCountPercentList</a></h3>
<pre><code class="language-solidity">uint256[] private minStakerCountPercentList;
</code></pre>
<h3 id="availablevabamount"><a class="header" href="#availablevabamount">availableVABAmount</a></h3>
<p>The amount of VAB a user has to stake in order to create a proposal to change the auditor/reward address</p>
<p><em>index/flag: 15</em></p>
<pre><code class="language-solidity">uint256 public availableVABAmount;
</code></pre>
<h3 id="availablevabamountlist"><a class="header" href="#availablevabamountlist">availableVABAmountList</a></h3>
<pre><code class="language-solidity">uint256[] private availableVABAmountList;
</code></pre>
<h3 id="boardvoteweight"><a class="header" href="#boardvoteweight">boardVoteWeight</a></h3>
<p>The percentage weight Film Board members have in voting on proposals.</p>
<p><em>index/flag: 17</em></p>
<pre><code class="language-solidity">uint256 public boardVoteWeight;
</code></pre>
<h3 id="boardvoteweightlist"><a class="header" href="#boardvoteweightlist">boardVoteWeightList</a></h3>
<pre><code class="language-solidity">uint256[] private boardVoteWeightList;
</code></pre>
<h2 id="functions"><a class="header" href="#functions">Functions</a></h2>
<h3 id="onlyvote"><a class="header" href="#onlyvote">onlyVote</a></h3>
<p><em>Restricts access to the Vote contract.</em></p>
<pre><code class="language-solidity">modifier onlyVote();
</code></pre>
<h3 id="onlydeployer"><a class="header" href="#onlydeployer">onlyDeployer</a></h3>
<p><em>Restricts access to the deployer of the Ownable contract.</em></p>
<pre><code class="language-solidity">modifier onlyDeployer();
</code></pre>
<h3 id="onlystaker"><a class="header" href="#onlystaker">onlyStaker</a></h3>
<p><em>Restricts access to stakers.</em></p>
<pre><code class="language-solidity">modifier onlyStaker();
</code></pre>
<h3 id="onlymajor"><a class="header" href="#onlymajor">onlyMajor</a></h3>
<p>Ensures that the caller is a major staker</p>
<pre><code class="language-solidity">modifier onlyMajor();
</code></pre>
<h3 id="constructor"><a class="header" href="#constructor">constructor</a></h3>
<p>Constructor to initialize the contract with required addresses and parameters</p>
<p><em>Sets up the min and max allowed parameters for property changes</em></p>
<pre><code class="language-solidity">constructor(address _ownable, address _uniHelper, address _vote, address _staking);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_ownable</code></td><td><code>address</code></td><td>Address of the Ownablee contract</td></tr>
<tr><td><code>_uniHelper</code></td><td><code>address</code></td><td>Address of the UniHelper contract</td></tr>
<tr><td><code>_vote</code></td><td><code>address</code></td><td>Address of the Vote contract</td></tr>
<tr><td><code>_staking</code></td><td><code>address</code></td><td>Address for sending the DAO rewards fund</td></tr>
</tbody></table>
</div>
<h3 id="proposalproperty"><a class="header" href="#proposalproperty">proposalProperty</a></h3>
<p>Creates a proposal to update a specific property with the provided details.</p>
<p><em>Only callable by a staker. Ensures the property and flag values are within valid ranges and that the
property is not already a candidate or the current value of the property.</em></p>
<pre><code class="language-solidity">function proposalProperty(
    uint256 _property,
    uint256 _flag,
    string memory _title,
    string memory _description
)
    external
    onlyStaker
    nonReentrant;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_property</code></td><td><code>uint256</code></td><td>The property value to propose.</td></tr>
<tr><td><code>_flag</code></td><td><code>uint256</code></td><td>The flag representing the type of property. 0 - Film Vote Period 1 - Agent Vote Period 2 - Dispute Grace Period 3 - Property Vote Period 4 - Lock Period 5 - Reward Rate 6 - Film Reward Claim Period 7 - Max Allow Period 8 - Proposal Fee Amount 9 - Fund Fee Percent 10 - Minimum Deposit Amount 11 - Maximum Deposit Amount 12 - Maximum Mint Fee Percent 13 - Minimum Vote Count 14 - Minimum Staker Count Percent 15 - Available VAB Amount 16 - Board Vote Period 17 - Board Vote Weight 18 - Reward Vote Period 19 - Subscription Amount 20 - Board Reward Rate</td></tr>
<tr><td><code>_title</code></td><td><code>string</code></td><td>The title of the proposal.</td></tr>
<tr><td><code>_description</code></td><td><code>string</code></td><td>The description of the proposal.</td></tr>
</tbody></table>
</div>
<h3 id="updatepropertyproposal"><a class="header" href="#updatepropertyproposal">updatePropertyProposal</a></h3>
<p>Updates the status of a property proposal.
If the proposal passed voting, this will update the property to the new value.</p>
<p><em>Only callable by <code>Vote::updateProperty()</code> after the voting period has elapsed.
Updates the approval status and the whitelist status of the property.</em></p>
<pre><code class="language-solidity">function updatePropertyProposal(uint256 _index, uint256 _flag, uint256 _approveStatus) external onlyVote;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_index</code></td><td><code>uint256</code></td><td>The index of the proposal to update.</td></tr>
<tr><td><code>_flag</code></td><td><code>uint256</code></td><td>The flag representing the type of property. 0 - Film Vote Period 1 - Agent Vote Period 2 - Dispute Grace Period 3 - Property Vote Period 4 - Lock Period 5 - Reward Rate 6 - Film Reward Claim Period 7 - Max Allow Period 8 - Proposal Fee Amount 9 - Fund Fee Percent 10 - Minimum Deposit Amount 11 - Maximum Deposit Amount 12 - Maximum Mint Fee Percent 13 - Minimum Vote Count 14 - Minimum Staker Count Percent 15 - Available VAB Amount 16 - Board Vote Period 17 - Board Vote Weight 18 - Reward Vote Period 19 - Subscription Amount 20 - Board Reward Rate</td></tr>
<tr><td><code>_approveStatus</code></td><td><code>uint256</code></td><td>The approval status (1 for approved, 0 for rejected).</td></tr>
</tbody></table>
</div>
<h3 id="proposalauditor"><a class="header" href="#proposalauditor">proposalAuditor</a></h3>
<p>Creates a proposal to replace the current auditor with a new agent.</p>
<p><em>Only callable by a major stakeholder (needs to stake at least <code>availableVABAmount</code>).
Ensures the agent is not already the auditor or a candidate.</em></p>
<pre><code class="language-solidity">function proposalAuditor(
    address _agent,
    string memory _title,
    string memory _description
)
    external
    onlyMajor
    nonReentrant;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_agent</code></td><td><code>address</code></td><td>The address of the proposed new auditor.</td></tr>
<tr><td><code>_title</code></td><td><code>string</code></td><td>The title of the proposal.</td></tr>
<tr><td><code>_description</code></td><td><code>string</code></td><td>The description of the proposal.</td></tr>
</tbody></table>
</div>
<h3 id="proposalrewardfund"><a class="header" href="#proposalrewardfund">proposalRewardFund</a></h3>
<p>Creates a proposal to add a new reward fund address.
This will be used if we need to do a migration to a new DAO.
The address proposed will receive all of the VAB from the Edge,Studio and StakingPool.</p>
<p><em>Only callable by a major stakeholder (needs to stake at least <code>availableVABAmount</code>).
Ensures the address is not already a candidate.</em></p>
<pre><code class="language-solidity">function proposalRewardFund(
    address _rewardAddress,
    string memory _title,
    string memory _description
)
    external
    onlyMajor
    nonReentrant;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_rewardAddress</code></td><td><code>address</code></td><td>The address proposed to receive all of the tokens.</td></tr>
<tr><td><code>_title</code></td><td><code>string</code></td><td>The title of the proposal.</td></tr>
<tr><td><code>_description</code></td><td><code>string</code></td><td>The description of the proposal.</td></tr>
</tbody></table>
</div>
<h3 id="proposalfilmboard"><a class="header" href="#proposalfilmboard">proposalFilmBoard</a></h3>
<p>Creates a proposal to add a new member to the film board.</p>
<p><em>Only callable by a staker. Ensures the member is not already a candidate.</em></p>
<pre><code class="language-solidity">function proposalFilmBoard(
    address _member,
    string memory _title,
    string memory _description
)
    external
    onlyStaker
    nonReentrant;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_member</code></td><td><code>address</code></td><td>The address of the proposed new film board member.</td></tr>
<tr><td><code>_title</code></td><td><code>string</code></td><td>The title of the proposal.</td></tr>
<tr><td><code>_description</code></td><td><code>string</code></td><td>The description of the proposal.</td></tr>
</tbody></table>
</div>
<h3 id="updategovproposal"><a class="header" href="#updategovproposal">updateGovProposal</a></h3>
<p>Updates the status of a governance proposal.
If the proposal passed voting, this will update the property to the new value.</p>
<p><em>Only callable by the Vote contract. Updates the approval status and the whitelist status of the member.</em></p>
<pre><code class="language-solidity">function updateGovProposal(uint256 _index, uint256 _flag, uint256 _approveStatus) external onlyVote;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_index</code></td><td><code>uint256</code></td><td>The index of the proposal to update.</td></tr>
<tr><td><code>_flag</code></td><td><code>uint256</code></td><td>The flag representing the type of proposal (1 for agent, 2 for board, 3 for pool).</td></tr>
<tr><td><code>_approveStatus</code></td><td><code>uint256</code></td><td>The approval status (1 for approved, 0 for rejected, 5 for replaced).</td></tr>
</tbody></table>
</div>
<h3 id="removefilmboardmember"><a class="header" href="#removefilmboardmember">removeFilmBoardMember</a></h3>
<p>Removes a film board member from the whitelist if they haven't voted on any proposal within the maximum
allowed period.</p>
<p><em>Only callable by a staker. Ensures the member meets the inactivity criteria by checking their last vote time
and the most recent fund proposal creation time.</em></p>
<pre><code class="language-solidity">function removeFilmBoardMember(address _member) external onlyStaker nonReentrant;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_member</code></td><td><code>address</code></td><td>The address of the film board member to remove. Requirements: - The member must be an active film board member (isGovWhitelist[2][_member] == 2). - The member's last vote must be older than the <code>maxAllowPeriod</code>. - The most recent fund proposal creation time must be within the <code>maxAllowPeriod</code>.</td></tr>
</tbody></table>
</div>
<h3 id="getgovproposallist"><a class="header" href="#getgovproposallist">getGovProposalList</a></h3>
<p>Retrieves the list of addresses for a specific governance proposal type.</p>
<pre><code class="language-solidity">function getGovProposalList(uint256 _flag) external view returns (address[] memory);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_flag</code></td><td><code>uint256</code></td><td>The flag representing the type of proposal (1 for agentList, 2 for boardCandidateList, 3 for rewardAddressList, 4 for filmBoardMembers).</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>address[]</code></td><td>The list of addresses corresponding to the proposal type.</td></tr>
</tbody></table>
</div>
<h3 id="getgovproposalinfo"><a class="header" href="#getgovproposalinfo">getGovProposalInfo</a></h3>
<p>Retrieves detailed information about a specific governance proposal.</p>
<pre><code class="language-solidity">function getGovProposalInfo(
    uint256 _index,
    uint256 _flag
)
    external
    view
    returns (uint256, uint256, uint256, address, address, Helper.Status);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_index</code></td><td><code>uint256</code></td><td>The index of the proposal.</td></tr>
<tr><td><code>_flag</code></td><td><code>uint256</code></td><td>The flag representing the type of proposal (1 for agent, 2 for board, 3 for reward address).</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>The creation time, approval time, proposal ID, value address, creator address, and status of the proposal.</td></tr>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td></td></tr>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td></td></tr>
<tr><td><code>&lt;none&gt;</code></td><td><code>address</code></td><td></td></tr>
<tr><td><code>&lt;none&gt;</code></td><td><code>address</code></td><td></td></tr>
<tr><td><code>&lt;none&gt;</code></td><td><code>Helper.Status</code></td><td></td></tr>
</tbody></table>
</div>
<h3 id="getgovproposalstr"><a class="header" href="#getgovproposalstr">getGovProposalStr</a></h3>
<p>Retrieves the title and description of a specific governance proposal.</p>
<pre><code class="language-solidity">function getGovProposalStr(uint256 _index, uint256 _flag) external view returns (string memory, string memory);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_index</code></td><td><code>uint256</code></td><td>The index of the proposal.</td></tr>
<tr><td><code>_flag</code></td><td><code>uint256</code></td><td>The flag representing the type of proposal.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>string</code></td><td>The title and description of the proposal.</td></tr>
<tr><td><code>&lt;none&gt;</code></td><td><code>string</code></td><td></td></tr>
</tbody></table>
</div>
<h3 id="getpropertyproposalinfo"><a class="header" href="#getpropertyproposalinfo">getPropertyProposalInfo</a></h3>
<p>Retrieves detailed information about a specific property proposal.</p>
<pre><code class="language-solidity">function getPropertyProposalInfo(
    uint256 _index,
    uint256 _flag
)
    external
    view
    returns (uint256, uint256, uint256, uint256, address, Helper.Status);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_index</code></td><td><code>uint256</code></td><td>The index of the proposal.</td></tr>
<tr><td><code>_flag</code></td><td><code>uint256</code></td><td>The flag representing the type of proposal.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>The creation time, approval time, proposal ID, property value, creator address, and status of the proposal.</td></tr>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td></td></tr>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td></td></tr>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td></td></tr>
<tr><td><code>&lt;none&gt;</code></td><td><code>address</code></td><td></td></tr>
<tr><td><code>&lt;none&gt;</code></td><td><code>Helper.Status</code></td><td></td></tr>
</tbody></table>
</div>
<h3 id="getpropertyproposalstr"><a class="header" href="#getpropertyproposalstr">getPropertyProposalStr</a></h3>
<p>Retrieves the title and description of a specific property proposal.</p>
<pre><code class="language-solidity">function getPropertyProposalStr(uint256 _index, uint256 _flag) external view returns (string memory, string memory);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_index</code></td><td><code>uint256</code></td><td>The index of the proposal.</td></tr>
<tr><td><code>_flag</code></td><td><code>uint256</code></td><td>The flag representing the type of proposal.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>string</code></td><td>The title and description of the proposal.</td></tr>
<tr><td><code>&lt;none&gt;</code></td><td><code>string</code></td><td></td></tr>
</tbody></table>
</div>
<h3 id="getagentproposerstakeamount"><a class="header" href="#getagentproposerstakeamount">getAgentProposerStakeAmount</a></h3>
<p>Retrieves the stake amount of an agent proposer.</p>
<p><em>This is used on the Vote contract for the auditor dispute flow.
We need to check if the user who disputes the proposal has staked double the amount
of the creator of the auditor change proposal.</em></p>
<pre><code class="language-solidity">function getAgentProposerStakeAmount(uint256 _index) external view returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_index</code></td><td><code>uint256</code></td><td>The index of the agent in the agent list.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>The stake amount of the agent proposer.</td></tr>
</tbody></table>
</div>
<h3 id="checkgovwhitelist"><a class="header" href="#checkgovwhitelist">checkGovWhitelist</a></h3>
<p>Checks the whitelist status of a governance address.</p>
<pre><code class="language-solidity">function checkGovWhitelist(uint256 _flag, address _address) external view returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_flag</code></td><td><code>uint256</code></td><td>The flag representing the type of governance address.</td></tr>
<tr><td><code>_address</code></td><td><code>address</code></td><td>The address to check.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>The whitelist status of the address.</td></tr>
</tbody></table>
</div>
<h3 id="checkpropertywhitelist"><a class="header" href="#checkpropertywhitelist">checkPropertyWhitelist</a></h3>
<p>Checks the whitelist status of a property.</p>
<pre><code class="language-solidity">function checkPropertyWhitelist(uint256 _flag, uint256 _property) external view returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_flag</code></td><td><code>uint256</code></td><td>The flag representing the type of property.</td></tr>
<tr><td><code>_property</code></td><td><code>uint256</code></td><td>The property to check.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>The whitelist status of the property.</td></tr>
</tbody></table>
</div>
<h3 id="getallgovproposalinfo"><a class="header" href="#getallgovproposalinfo">getAllGovProposalInfo</a></h3>
<p>Retrieves all governance proposal information for a specific flag.</p>
<pre><code class="language-solidity">function getAllGovProposalInfo(uint256 _flag) external view returns (address[] memory);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_flag</code></td><td><code>uint256</code></td><td>The flag representing the type of governance proposals (1: auditor, 2: film board member, 3: reward address)</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>address[]</code></td><td>The list of addresses for the governance proposals.</td></tr>
</tbody></table>
</div>
<h3 id="getpropertyproposallist"><a class="header" href="#getpropertyproposallist">getPropertyProposalList</a></h3>
<p>Retrieves the list of property proposals for a specified flag.</p>
<pre><code class="language-solidity">function getPropertyProposalList(uint256 _flag) public view returns (uint256[] memory _list);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_flag</code></td><td><code>uint256</code></td><td>The flag representing the type of property proposal list to retrieve. 0 - Film Vote Period List 1 - Agent Vote Period List 2 - Dispute Grace Period List 3 - Property Vote Period List 4 - Lock Period List 5 - Reward Rate List 6 - Film Reward Claim Period List 7 - Max Allow Period List 8 - Proposal Fee Amount List 9 - Fund Fee Percent List 10 - Minimum Deposit Amount List 11 - Maximum Deposit Amount List 12 - Maximum Mint Fee Percent List 13 - Minimum Vote Count List 14 - Minimum Staker Count Percent List 15 - Available VAB Amount List 16 - Board Vote Period List 17 - Board Vote Weight List 18 - Reward Vote Period List 19 - Subscription Amount List 20 - Board Reward Rate List</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_list</code></td><td><code>uint256[]</code></td><td>The list of property proposals corresponding to the specified flag.</td></tr>
</tbody></table>
</div>
<h3 id="__paidfee"><a class="header" href="#__paidfee">__paidFee</a></h3>
<p><em>Ensures the proposal fee is paid by transferring the expected amount of VAB tokens from the user to the
staking pool.</em></p>
<p><em>Converts the specified amount of USDC to the expected amount of VAB using Uniswap, then transfers the VAB to
the staking pool.</em></p>
<pre><code class="language-solidity">function __paidFee(uint256 _payAmount) private;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_payAmount</code></td><td><code>uint256</code></td><td>The amount of USDC to be converted to VAB and paid as the proposal fee.</td></tr>
</tbody></table>
</div>
<h3 id="__removeboardmember"><a class="header" href="#__removeboardmember">__removeBoardMember</a></h3>
<p><em>Removes a film board member from the list.</em></p>
<p><em>Finds the member in the film board members list and removes them by swapping with the last element and
reducing the list length.</em></p>
<pre><code class="language-solidity">function __removeBoardMember(address _member) private;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_member</code></td><td><code>address</code></td><td>The address of the film board member to remove.</td></tr>
</tbody></table>
</div>
<h2 id="events"><a class="header" href="#events">Events</a></h2>
<h3 id="auditorproposalcreated"><a class="header" href="#auditorproposalcreated">AuditorProposalCreated</a></h3>
<p>Emitted when an auditor proposal is created</p>
<pre><code class="language-solidity">event AuditorProposalCreated(address indexed creator, address member, string title, string description);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>creator</code></td><td><code>address</code></td><td>The address of the proposal creator</td></tr>
<tr><td><code>member</code></td><td><code>address</code></td><td>The address of the proposed auditor</td></tr>
<tr><td><code>title</code></td><td><code>string</code></td><td>The title of the proposal</td></tr>
<tr><td><code>description</code></td><td><code>string</code></td><td>The description of the proposal</td></tr>
</tbody></table>
</div>
<h3 id="rewardfundproposalcreated"><a class="header" href="#rewardfundproposalcreated">RewardFundProposalCreated</a></h3>
<p>Emitted when a reward fund proposal is created</p>
<pre><code class="language-solidity">event RewardFundProposalCreated(address indexed creator, address member, string title, string description);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>creator</code></td><td><code>address</code></td><td>The address of the proposal creator</td></tr>
<tr><td><code>member</code></td><td><code>address</code></td><td>The address of the proposed reward fund address</td></tr>
<tr><td><code>title</code></td><td><code>string</code></td><td>The title of the proposal</td></tr>
<tr><td><code>description</code></td><td><code>string</code></td><td>The description of the proposal</td></tr>
</tbody></table>
</div>
<h3 id="filmboardproposalcreated"><a class="header" href="#filmboardproposalcreated">FilmBoardProposalCreated</a></h3>
<p>Emitted when a film board proposal is created</p>
<pre><code class="language-solidity">event FilmBoardProposalCreated(address indexed creator, address member, string title, string description);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>creator</code></td><td><code>address</code></td><td>The address of the proposal creator</td></tr>
<tr><td><code>member</code></td><td><code>address</code></td><td>The address of the proposed film board member address</td></tr>
<tr><td><code>title</code></td><td><code>string</code></td><td>The title of the proposal</td></tr>
<tr><td><code>description</code></td><td><code>string</code></td><td>The description of the proposal</td></tr>
</tbody></table>
</div>
<h3 id="propertyproposalcreated"><a class="header" href="#propertyproposalcreated">PropertyProposalCreated</a></h3>
<p>Emitted when a property proposal is created</p>
<pre><code class="language-solidity">event PropertyProposalCreated(
    address indexed creator, uint256 property, uint256 flag, string title, string description
);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>creator</code></td><td><code>address</code></td><td>The address of the proposal creator</td></tr>
<tr><td><code>property</code></td><td><code>uint256</code></td><td>The proposed property value</td></tr>
<tr><td><code>flag</code></td><td><code>uint256</code></td><td>The flag indicating the type of property</td></tr>
<tr><td><code>title</code></td><td><code>string</code></td><td>The title of the proposal</td></tr>
<tr><td><code>description</code></td><td><code>string</code></td><td>The description of the proposal</td></tr>
</tbody></table>
</div>
<h3 id="filmboardmemberremoved"><a class="header" href="#filmboardmemberremoved">FilmBoardMemberRemoved</a></h3>
<p>Emitted when a film board member is removed</p>
<pre><code class="language-solidity">event FilmBoardMemberRemoved(address indexed caller, address member);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>caller</code></td><td><code>address</code></td><td>The address of the caller who removed the member</td></tr>
<tr><td><code>member</code></td><td><code>address</code></td><td>The address of the removed member</td></tr>
</tbody></table>
</div>
<h2 id="structs"><a class="header" href="#structs">Structs</a></h2>
<h3 id="proproposal"><a class="header" href="#proproposal">ProProposal</a></h3>
<p><em>This structure contains information related to proposals that update governance properties of the contract.</em></p>
<pre><code class="language-solidity">struct ProProposal {
    string title;
    string description;
    uint256 createTime;
    uint256 approveTime;
    uint256 proposalID;
    uint256 value;
    address creator;
    Helper.Status status;
}
</code></pre>
<p><strong>Properties</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>title</code></td><td><code>string</code></td><td>The title of the proposal</td></tr>
<tr><td><code>description</code></td><td><code>string</code></td><td>The detailed description of the proposal</td></tr>
<tr><td><code>createTime</code></td><td><code>uint256</code></td><td>The timestamp when the proposal was created</td></tr>
<tr><td><code>approveTime</code></td><td><code>uint256</code></td><td>The timestamp when the proposal was approved</td></tr>
<tr><td><code>proposalID</code></td><td><code>uint256</code></td><td>The unique identifier for the proposal</td></tr>
<tr><td><code>value</code></td><td><code>uint256</code></td><td>The proposed new value for the governance property</td></tr>
<tr><td><code>creator</code></td><td><code>address</code></td><td>The address of the creator of the proposal</td></tr>
<tr><td><code>status</code></td><td><code>Helper.Status</code></td><td>The current status of the proposal</td></tr>
</tbody></table>
</div>
<h3 id="govproposal"><a class="header" href="#govproposal">GovProposal</a></h3>
<p><em>This structure contains information related to governance proposals such as Auditor change, Reward Address
allocation, and Filmboard Member addition or removal.</em></p>
<pre><code class="language-solidity">struct GovProposal {
    string title;
    string description;
    uint256 createTime;
    uint256 approveTime;
    uint256 proposalID;
    address value;
    address creator;
    Helper.Status status;
}
</code></pre>
<p><strong>Properties</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>title</code></td><td><code>string</code></td><td>The title of the proposal</td></tr>
<tr><td><code>description</code></td><td><code>string</code></td><td>The detailed description of the proposal</td></tr>
<tr><td><code>createTime</code></td><td><code>uint256</code></td><td>The timestamp when the proposal was created</td></tr>
<tr><td><code>approveTime</code></td><td><code>uint256</code></td><td>The timestamp when the proposal was approved</td></tr>
<tr><td><code>proposalID</code></td><td><code>uint256</code></td><td>The unique identifier for the proposal</td></tr>
<tr><td><code>value</code></td><td><code>address</code></td><td>The proposed new address</td></tr>
<tr><td><code>creator</code></td><td><code>address</code></td><td>The address of the creator of the proposal</td></tr>
<tr><td><code>status</code></td><td><code>Helper.Status</code></td><td>The current status of the proposal</td></tr>
</tbody></table>
</div>
<h3 id="agent"><a class="header" href="#agent">Agent</a></h3>
<p><em>This structure contains information about an agent in the context of auditor replacement proposals.</em></p>
<pre><code class="language-solidity">struct Agent {
    address agent;
    uint256 stakeAmount;
}
</code></pre>
<p><strong>Properties</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>agent</code></td><td><code>address</code></td><td>The address of the agent</td></tr>
<tr><td><code>stakeAmount</code></td><td><code>uint256</code></td><td>The stake amount of the agent proposal creator</td></tr>
</tbody></table>
</div>
                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../../../contracts/dao/Ownablee.sol/contract.Ownablee.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="../../../contracts/dao/StakingPool.sol/contract.StakingPool.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../../../contracts/dao/Ownablee.sol/contract.Ownablee.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="../../../contracts/dao/StakingPool.sol/contract.StakingPool.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="../../../elasticlunr.min.js"></script>
        <script src="../../../mark.min.js"></script>
        <script src="../../../searcher.js"></script>

        <script src="../../../clipboard.min.js"></script>
        <script src="../../../highlight.js"></script>
        <script src="../../../book.js"></script>

        <!-- Custom JS scripts -->
        <script src="../../../solidity.min.js"></script>


    </div>
    </body>
</html>
